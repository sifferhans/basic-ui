{"version":3,"file":"decorateStory.73d5597a.js","sources":["../../node_modules/@storybook/vue3/dist/esm/client/preview/render.js","../../node_modules/@storybook/vue3/dist/esm/client/preview/decorateStory.js"],"sourcesContent":["var _templateObject;\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.object.freeze.js\";\nimport dedent from 'ts-dedent';\nimport { createApp, h, shallowRef } from 'vue';\nexport var render = function render(props, context) {\n  var id = context.id,\n      Component = context.component;\n\n  if (!Component) {\n    throw new Error(\"Unable to render story \".concat(id, \" as the component annotation is missing from the default export\"));\n  } // TODO remove this hack\n\n\n  return h(Component, props);\n};\nexport var activeStoryComponent = shallowRef(null);\nvar root = null;\nexport var storybookApp = createApp({\n  // If an end-user calls `unmount` on the app, we need to clear our root variable\n  unmounted: function unmounted() {\n    root = null;\n  },\n  setup: function setup() {\n    return function () {\n      if (!activeStoryComponent.value) throw new Error('No Vue 3 Story available. Was it set correctly?');\n      return h(activeStoryComponent.value);\n    };\n  }\n});\nexport function renderToDOM(_ref, domElement) {\n  var title = _ref.title,\n      name = _ref.name,\n      storyFn = _ref.storyFn,\n      showMain = _ref.showMain,\n      showError = _ref.showError,\n      showException = _ref.showException;\n  storybookApp.config.errorHandler = showException;\n  var element = storyFn();\n\n  if (!element) {\n    showError({\n      title: \"Expecting a Vue component from the story: \\\"\".concat(name, \"\\\" of \\\"\").concat(title, \"\\\".\"),\n      description: dedent(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n        Did you forget to return the Vue component from the story?\\n        Use \\\"() => ({ template: '<my-comp></my-comp>' })\\\" or \\\"() => ({ components: MyComp, template: '<my-comp></my-comp>' })\\\" when defining the story.\\n      \"])))\n    });\n    return;\n  }\n\n  showMain();\n  activeStoryComponent.value = element;\n\n  if (!root) {\n    root = storybookApp.mount(domElement);\n  }\n}","import \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.assign.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { h } from 'vue';\nimport { sanitizeStoryContextUpdate } from '@storybook/store';\n\n/*\n  This normalizes a functional component into a render method in ComponentOptions.\n\n  The concept is taken from Vue 3's `defineComponent` but changed from creating a `setup`\n  method on the ComponentOptions so end-users don't need to specify a \"thunk\" as a decorator.\n */\nfunction normalizeFunctionalComponent(options) {\n  return typeof options === 'function' ? {\n    render: options,\n    name: options.name\n  } : options;\n}\n\nfunction prepare(rawStory, innerStory) {\n  var story = rawStory;\n\n  if (story == null) {\n    return null;\n  }\n\n  if (innerStory) {\n    return Object.assign({}, normalizeFunctionalComponent(story), {\n      components: Object.assign({}, story.components || {}, {\n        story: innerStory\n      })\n    });\n  }\n\n  return {\n    render: function render() {\n      return h(story);\n    }\n  };\n}\n\nexport function decorateStory(storyFn, decorators) {\n  return decorators.reduce(function (decorated, decorator) {\n    return function (context) {\n      var story;\n      var decoratedStory = decorator(function (update) {\n        story = decorated(Object.assign({}, context, sanitizeStoryContextUpdate(update)));\n        return story;\n      }, context);\n\n      if (!story) {\n        story = decorated(context);\n      }\n\n      if (decoratedStory === story) {\n        return story;\n      }\n\n      return prepare(decoratedStory, story);\n    };\n  }, function (context) {\n    return prepare(storyFn(context));\n  });\n}"],"names":[],"mappings":"gHAAA,GAAI,GAEJ,WAAgC,EAAS,EAAK,CAAE,MAAK,IAAO,GAAM,EAAQ,MAAM,CAAC,GAAY,OAAO,OAAO,OAAO,iBAAiB,EAAS,CAAE,IAAK,CAAE,MAAO,OAAO,OAAO,CAAG,EAAK,CAAA,CAAC,CAAI,CAQ7K,GAAC,GAAS,SAAgB,EAAO,EAAS,CAClD,GAAI,GAAK,EAAQ,GACb,EAAY,EAAQ,UAExB,GAAI,CAAC,EACH,KAAM,IAAI,OAAM,0BAA0B,OAAO,EAAI,iEAAiE,CAAC,EAIzH,MAAO,GAAE,EAAW,CAAK,CAC3B,EACW,EAAuB,EAAW,IAAI,EAC7C,EAAO,KACA,EAAe,EAAU,CAElC,UAAW,UAAqB,CAC9B,EAAO,IACR,EACD,MAAO,UAAiB,CACtB,MAAO,WAAY,CACjB,GAAI,CAAC,EAAqB,MAAO,KAAM,IAAI,OAAM,iDAAiD,EAClG,MAAO,GAAE,EAAqB,KAAK,CACzC,CACG,CACH,CAAC,EACM,WAAqB,EAAM,EAAY,CAC5C,GAAI,GAAQ,EAAK,MACb,EAAO,EAAK,KACZ,EAAU,EAAK,QACf,EAAW,EAAK,SAChB,EAAY,EAAK,UACjB,EAAgB,EAAK,cACzB,EAAa,OAAO,aAAe,EACnC,GAAI,GAAU,IAEd,GAAI,CAAC,EAAS,CACZ,EAAU,CACR,MAAO,8CAA+C,OAAO,EAAM,QAAU,EAAE,OAAO,EAAO,IAAK,EAClG,YAAa,EAAO,GAAoB,GAAkB,EAAuB,CAAC;AAAA;AAAA;AAAA,OAA2O,CAAC,EAAE,CACtU,CAAK,EACD,MACD,CAED,IACA,EAAqB,MAAQ,EAExB,GACH,GAAO,EAAa,MAAM,CAAU,EAExC,CC/CA,WAAsC,EAAS,CAC7C,MAAO,OAAO,IAAY,WAAa,CACrC,OAAQ,EACR,KAAM,EAAQ,IACf,EAAG,CACN,CAEA,WAAiB,EAAU,EAAY,CACrC,GAAI,GAAQ,EAEZ,MAAI,IAAS,KACJ,KAGL,EACK,OAAO,OAAO,CAAE,EAAE,EAA6B,CAAK,EAAG,CAC5D,WAAY,OAAO,OAAO,CAAE,EAAE,EAAM,YAAc,GAAI,CACpD,MAAO,CACf,CAAO,CACP,CAAK,EAGI,CACL,OAAQ,UAAkB,CACxB,MAAO,GAAE,CAAK,CACf,CACL,CACA,CAEO,WAAuB,EAAS,EAAY,CACjD,MAAO,GAAW,OAAO,SAAU,EAAW,EAAW,CACvD,MAAO,UAAU,EAAS,CACxB,GAAI,GACA,EAAiB,EAAU,SAAU,EAAQ,CAC/C,SAAQ,EAAU,OAAO,OAAO,CAAA,EAAI,EAAS,EAA2B,CAAM,CAAC,CAAC,EACzE,CACR,EAAE,CAAO,EAMV,MAJK,IACH,GAAQ,EAAU,CAAO,GAGvB,IAAmB,EACd,EAGF,EAAQ,EAAgB,CAAK,CAC1C,CACG,EAAE,SAAU,EAAS,CACpB,MAAO,GAAQ,EAAQ,CAAO,CAAC,CACnC,CAAG,CACH"}